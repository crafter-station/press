---
const recursos = [
    {
        tipo: "GitHub Repo",
        nombre: "Astro 5.0",
        subtipo: "Framework",
        fecha: "Enero 2025",
        origen: "github.com/withastro",
        descripcion:
            "El framework de contenido que está revolucionando cómo construimos sitios web.",
        enlace: "https://github.com/withastro/astro",
        color: "violet",
    },
    {
        tipo: "Libro",
        nombre: "Diseñando para el futuro",
        subtipo: "Diseño UX",
        fecha: "2024",
        origen: "Editorial LATAM",
        descripcion:
            "Una guía práctica sobre diseño sostenible y accesible en productos digitales.",
        enlace: "https://amazon.com/dp/example",
        color: "amber",
    },
    {
        tipo: "Artículo",
        nombre: "The State of CSS 2024",
        subtipo: "Encuesta anual",
        fecha: "Diciembre 2024",
        origen: "stateofcss.com",
        descripcion:
            "Resultados de la encuesta anual sobre el estado de CSS. Tendencias y herramientas.",
        enlace: "https://stateofcss.com/2024",
        color: "sky",
    },
    {
        tipo: "Herramienta",
        nombre: "v0 by Vercel",
        subtipo: "IA Generativa",
        fecha: "2025",
        origen: "Vercel Inc.",
        descripcion:
            "Genera interfaces de usuario con IA. Describe lo que necesitas y obtén código.",
        enlace: "https://v0.dev",
        color: "neutral",
    },
];
---

<section id="recursos" class="section">
    <div class="section-container">
        <span class="section-label">Recursos</span>
        <h2 class="section-title">Recursos del mes</h2>
        <p class="section-description">
            Lo mejor que encontramos este mes: repos, libros, artículos y
            herramientas para tu arsenal.
        </p>

        <div class="resources-grid">
            {
                recursos.map((recurso) => (
                    <a
                        href={recurso.enlace}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="resource-card"
                    >
                        <div class="resource-image">
                            <div
                                class="image-placeholder"
                                data-color={recurso.color}
                            >
                                <span>{recurso.tipo}</span>
                            </div>
                        </div>
                        <div class="resource-content">
                            <h3 class="resource-name">{recurso.nombre}</h3>
                            <p class="resource-subtipo">{recurso.subtipo}</p>
                            <p class="resource-fecha">{recurso.fecha}</p>
                            <p class="resource-origen">{recurso.origen}</p>
                            <p class="resource-descripcion">
                                {recurso.descripcion}
                            </p>
                        </div>
                    </a>
                ))
            }
        </div>

        <div class="newsletter-section">
            <div class="newsletter-content">
                <h3 class="newsletter-title">Recibe recursos cada mes</h3>
                <p class="newsletter-description">
                    Suscríbete a nuestro newsletter y recibe los mejores
                    recursos directamente en tu inbox.
                </p>
                <form class="newsletter-form" id="resources-newsletter-form">
                    <input
                        type="email"
                        placeholder="tu@email.com"
                        required
                        class="newsletter-input"
                    />
                    <button type="submit" class="newsletter-button"
                        >Suscribirse</button
                    >
                </form>
                <div
                    class="newsletter-success"
                    id="resources-newsletter-success"
                >
                    <span
                        >Gracias por suscribirte. Te llegará la próxima edición.</span
                    >
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    const form = document.getElementById(
        "resources-newsletter-form",
    ) as HTMLFormElement;
    const success = document.getElementById(
        "resources-newsletter-success",
    ) as HTMLElement;

    form?.addEventListener("submit", (e) => {
        e.preventDefault();
        form.style.display = "none";
        success.style.display = "block";
    });
</script>

<style>
    .section {
        padding: 5rem 0;
        border-bottom: 1px solid var(--border);
    }

    .section-container {
        max-width: 80rem;
        margin: 0 auto;
        padding: 0 1.5rem;
    }

    .section-label {
        display: block;
        font-size: 0.75rem;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--muted-foreground);
        margin-bottom: 1rem;
    }

    .section-title {
        font-family: Georgia, serif;
        font-size: 2.5rem;
        font-weight: 400;
        line-height: 1.2;
        color: var(--foreground);
        margin-bottom: 1rem;
    }

    .section-description {
        font-size: 1.25rem;
        color: var(--muted-foreground);
        max-width: 42rem;
        margin-bottom: 3rem;
    }

    .resources-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }

    .resource-card {
        display: block;
        transition: opacity 0.2s;
    }

    .resource-card:hover {
        opacity: 0.8;
    }

    .resource-card:hover .resource-name {
        color: var(--muted-foreground);
    }

    .resource-image {
        aspect-ratio: 4/3;
        border-radius: var(--radius);
        overflow: hidden;
        margin-bottom: 1rem;
    }

    .image-placeholder {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 0.875rem;
        font-weight: 500;
    }

    .image-placeholder[data-color="violet"] {
        background: #5b21b6;
    }

    .image-placeholder[data-color="amber"] {
        background: #f59e0b;
    }

    .image-placeholder[data-color="sky"] {
        background: #0284c7;
    }

    .image-placeholder[data-color="neutral"] {
        background: #171717;
    }

    .resource-name {
        font-size: 1.125rem;
        font-weight: 600;
        color: var(--foreground);
        line-height: 1.3;
        margin-bottom: 0.25rem;
        transition: color 0.2s;
    }

    .resource-subtipo {
        font-size: 0.875rem;
        color: var(--muted-foreground);
        margin-bottom: 0.25rem;
    }

    .resource-fecha {
        font-size: 0.875rem;
        color: var(--muted-foreground);
        opacity: 0.7;
        margin-bottom: 0.25rem;
    }

    .resource-origen {
        font-size: 0.875rem;
        color: var(--muted-foreground);
        opacity: 0.7;
        margin-bottom: 0.75rem;
    }

    .resource-descripcion {
        font-size: 0.875rem;
        color: var(--muted-foreground);
        line-height: 1.6;
    }

    .newsletter-section {
        margin-top: 4rem;
        padding: 2rem;
        background: var(--foreground);
        border-radius: var(--radius);
    }

    .newsletter-content {
        max-width: 32rem;
    }

    .newsletter-title {
        font-family: Georgia, serif;
        font-size: 1.5rem;
        font-weight: 400;
        color: var(--background);
        margin-bottom: 1rem;
    }

    .newsletter-description {
        color: var(--muted-foreground);
        margin-bottom: 1.5rem;
    }

    :global(.dark) .newsletter-description {
        color: var(--muted);
    }

    .newsletter-form {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .newsletter-input {
        flex: 1;
        padding: 0.75rem 1rem;
        background: var(--muted);
        border: none;
        border-radius: var(--radius);
        color: var(--foreground);
        font-size: 1rem;
    }

    :global(.dark) .newsletter-input {
        background: var(--secondary);
    }

    .newsletter-input::placeholder {
        color: var(--muted-foreground);
    }

    .newsletter-button {
        padding: 0.75rem 1.5rem;
        background: var(--accent);
        color: var(--accent-foreground);
        border: none;
        border-radius: var(--radius);
        font-weight: 500;
        cursor: pointer;
        transition: opacity 0.2s;
    }

    .newsletter-button:hover {
        opacity: 0.9;
    }

    .newsletter-success {
        display: none;
        color: var(--background);
        font-size: 0.875rem;
    }

    @media (min-width: 640px) {
        .resources-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .newsletter-form {
            flex-direction: row;
        }
    }

    @media (min-width: 1024px) {
        .resources-grid {
            grid-template-columns: repeat(4, 1fr);
        }
    }
</style>
